{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/2015/web-performance-optimization","result":{"data":{"markdownRemark":{"html":"<p>An average user stays in your site if the page loads in &#x3C; 1000ms. In 2014, an average page size is 1.9MB. See the below chart for more stats.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/dd10fb69a26fad31b31cfcb9860a4d02/e17e5/chart-Nov-15-2014.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQoz22RTS8zURiG/QoWLAjxFbFgayl5bXwtsLD0A95/0AhaXyFhIUQJ0mi1SZM38dGqiEiQCJo3hA2phBiMmWPOmZlz5szp1NNpkKp7cRYn5zrPfd9PUeZTQgiM8TtI0wghnBqCM6oTSjDBWEVI0zRVVSmllmVxzgEpyuTLcU+N8ejl/VAi6dk5CydvNYOmhW2aJkIIu4IRtm3nwWkny2LG+1YT1d5gpz/WtrDd7o8vntxgwyQES5Iky7KiKIZhgIU8WLjw1MH/Ys9a40Skcynevbw7krgIXtxdS4rFKMwEz+AfMubZzhkWaadjKVbpDdb4Qi0z/2YPr07uX5KPb9fPiDIGXTDLghO++AVmtvgzv1XlDdaObjSMR3pX9npWEq1zm13+OML6O0JgGJJD4J+FOa7tv9Hj0sFA42QE+Irh9WpfqMSzNhA6yJbyqdzLbxiubDfJpaRA4LLBQN3oRv1YuHx4vWE8fP4gfzX6pSwM7UH1uq7DGgnRHcFPU1J/YL9pKto8He1Z3TtKPbu+fqy1YM+58HbakYl594punt5Mxgpn/g7nHh2nXnyxs4yd3Y2qIu7GKdQHpqdCOoIyor8AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Average Web Page Size\" title=\"Average Web Page Size\" src=\"/static/dd10fb69a26fad31b31cfcb9860a4d02/e17e5/chart-Nov-15-2014.png\" srcset=\"/static/dd10fb69a26fad31b31cfcb9860a4d02/4edbd/chart-Nov-15-2014.png 175w,\n/static/dd10fb69a26fad31b31cfcb9860a4d02/13ae7/chart-Nov-15-2014.png 350w,\n/static/dd10fb69a26fad31b31cfcb9860a4d02/e17e5/chart-Nov-15-2014.png 400w\" sizes=\"(max-width: 400px) 100vw, 400px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>via source <a target=\"_blank\" href=\"http://httparchive.org/interesting.php#bytesperpage\">httparchive</a></p>\n<p>The core content of site should render with in <code class=\"language-text\">1000ms</code>. If it fails, then the user is never gonna come back to your site again. By improving page load time, the revenue and downloads increased tremendously for many popular companies.</p>\n<ul>\n<li>Let's take <a target=\"_blank\" href=\"http://www.walmart.com/\">Walmart</a> for every <code class=\"language-text\">100ms</code> of improvement to their site, they grew revenue up to <code class=\"language-text\">1%</code></li>\n<li><a target=\"_blank\" href=\"https://www.Yahoo.com\">Yahoo</a> traffic increased by <code class=\"language-text\">9%</code> for every <code class=\"language-text\">400ms</code> of improvement.</li>\n<li><a target=\"_blank\" href=\"https://www.Mozilla.com\">Mozilla</a> speed up their site by <code class=\"language-text\">2.2sec</code> gave them <code class=\"language-text\">160 million</code> more firefox downloads/year.</li>\n</ul>\n<h4>Steps involved in site optimization</h4>\n<ol>\n<li>Set performance budget.</li>\n<li>Measuring the current performance.</li>\n<li>Find the problem causing performance issue.</li>\n<li>And finally yay, optimize it.</li>\n</ol>\n<p>There are several ways to optimize your site, Lets see about it</p>\n<h2 id=\"speed-index\" style=\"position:relative;\">Speed Index<a href=\"#speed-index\" aria-label=\"speed index permalink\" class=\"blog-post-heading-link after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Speed index is the average time at which visible parts of page is <a href=\"http://www.html5rocks.com/en/tutorials/internals/howbrowserswork/#Painting\" title=\"Browser Painting\">painted</a> in the browser. Expressed in milliseconds and also depends on the viewport size. See below image ( video frames to show web page load at seconds ).</p>\n<p><i>Lower speed index score is the better score.</i></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 628px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/fafa56e16bcc83405cee874039ff2ac2/3d84d/compare_progress.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 53.714285714285715%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVQoz2WQ/U9SYRTHL/wYrH+oVSPGi+EaDuKiIoVMZRJoNXv5pVo/aLkx2vKXcmYzwYQ1COS1ewmELdgNEJCrZoKEvMNso83xenugFs7Onn12zvc533OePRDUDco5CplMhk4FiUQ6T6UAnhZBD5VC7dXBYNDv92MYBhgKb71fW7XpVRHs017Us7/tjQdRfMunW55Tq56jqMvj8Xi9XgRBUdSjUqkhgiDa7TZgq9UC3NuJad6olpbf6XR6pxMJBAKZ1Fe3bXF+fm5Vo9Hr9WBEKITlUl82Pq51zM1mEzgBO+bd+OTowGUaTSqVcvr7ORxOq/kritn6WHQmkwFENpsNwwKiXf3scp7djMcj32OubDZ9lE4eJvdzmRQQIwE74rSmjzKJRPLgIAESILrdmxCPx+NyuTfEYl436HSafPTqw9uie8rBZ0/kMwrhzC14aOAC91qfVCKS3By+My0Xi+CRoesM+iXIbDYbDAaTyQRosVgXXr54pb6v1752mDWIdd1qXHFsrL9deLCovmvULSEWDWrVOswrdrPWa3x69tk7ePTb9max/LNUrhRLlXy+UK5Ug74PeBgpVap/xUIxkz8+ybo65nq93mg0arUayMMhrPAj9m9i+8/EkD13GO6KnZLoslny/fdheLRS2u2Zu30pHD3OxXpmonNFnGAQDMN8Pl8mkwmFQgEMs5iMMRFrSgaDM/tYqZwQTMmEI/yLY8NM5QQ8PTk4+0ipGOcrxmGF5Mpv3lqzozkbtd0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Speed Index\" title=\"Speed Index\" src=\"/static/fafa56e16bcc83405cee874039ff2ac2/3d84d/compare_progress.png\" srcset=\"/static/fafa56e16bcc83405cee874039ff2ac2/4edbd/compare_progress.png 175w,\n/static/fafa56e16bcc83405cee874039ff2ac2/13ae7/compare_progress.png 350w,\n/static/fafa56e16bcc83405cee874039ff2ac2/3d84d/compare_progress.png 628w\" sizes=\"(max-width: 628px) 100vw, 628px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>Speed index can be measured by using <a target=\"_blank\" href=\"http://www.webpagetest.org/\">Webpagetest</a> (maintained by google).</p>\n<h4>TL;DR</h4>\n<p>Webpage test has lots features like running multiple test in different locations using different browsers. And can measure other metrics like load time, number of DOM elements, first byte time etc..</p>\n<p>Eg: checkout the measured result of amazon <a target=\"_blank\" href=\"http://www.webpagetest.org/result/141126_29_DVN/\">here</a> using webpagetest.</p>\n<p><i>Watch the below video by <a href=\"http://blog.patrickmeenan.com/\" target=\"_blank\">Patrick Meenan</a> to know more about webpagetest</i></p>\n<iframe style=\"margin: 0 auto;text-align: center;width: 100%;border: 1px solid #000;\" width=\"560\" height=\"315\" src=\"//www.youtube.com/embed/euVYHee1f1M\" frameborder=\"0\" allowfullscreen></iframe>\n<h2 id=\"render-blocking\" style=\"position:relative;\">Render Blocking<a href=\"#render-blocking\" aria-label=\"render blocking permalink\" class=\"blog-post-heading-link after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>If you know how a browser works, then you know about how <code class=\"language-text\">HTML, CSS, JS</code> are parsed by browser and which is blocking the rendering of the page. If you don't, see the below simple diagrammatic representation below.</p>\n<img src=\"https://www.igvita.com/posts/12/doc-render-js.png\" alt=\"How parsing is done in the browser\">\n<p>Read more about <a target=\"_blank\" href=\"www.html5rocks.com/en/tutorials/internals/howbrowserswork/\">how a browser works</a> written by <a target=\"_blank\" href=\"http://www.html5rocks.com/en/profiles/#taligarsiel\">Tali Garsiel</a> and <a target=\"_blank\" href=\"http://www.paulirish.com/\">Paul Irish</a>.</p>\n<h3 id=\"steps-involved-in-rendering-in-a-browser\" style=\"position:relative;\">Steps involved in rendering in a browser<a href=\"#steps-involved-in-rendering-in-a-browser\" aria-label=\"steps involved in rendering in a browser permalink\" class=\"blog-post-heading-link after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ol>\n<li>First browser parses <code class=\"language-text\">HTML</code> markup to construct <code class=\"language-text\">DOM tree</code> ( DOM = Document Object Model )</li>\n<li>Then parses <code class=\"language-text\">CSS</code> to construct <code class=\"language-text\">CSSOM tree</code> ( CSSOM = CSS Object Model )</li>\n<li>Before combining both DOM and CSSOM tree to contruct Render tree, <code class=\"language-text\">JS</code> files are parsed and executed.</li>\n</ol>\n<p>Now you understood how parsing is done in a browser. Lets see which is blocking the construction of rendering tree.</p>\n<h2 id=\"render-blocking-css\" style=\"position:relative;\">Render-Blocking CSS<a href=\"#render-blocking-css\" aria-label=\"render blocking css permalink\" class=\"blog-post-heading-link after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>CSS is treated as render blocking. For the construction of CSSOM, all the CSS are downloaded regardless of whether they are used in current page or not.</p>\n<p>To solve this render-blocking, go through below steps</p>\n<ol>\n<li>Inline the critical CSS, that is most important styles used by page above the fold in head tag inside <code class=\"language-text\">&lt;style&gt;&lt;/style&gt;</code></li>\n<li>Remove the unused CSS.</li>\n</ol>\n<p>So how do I find unused CSS.</p>\n<ol>\n<li>\n<p>Use <a target=\"_blank\" href=\"https://developers.google.com/speed/pagespeed/insights/\">Pagespeed Insight</a> to get stats like unused CSS, render-blocking CSS and JS files etc.</p>\n<p>Eg: Flipkart's Pagespeed Insight result <a target=\"_blank\" href=\"https://developers.google.com/speed/pagespeed/insights/?url=Flipkart.com\">here</a>.</p>\n</li>\n<li>Gulp tasks like <a href=\"https://www.npmjs.com/package/gulp-uncss\" target=\"_blank\">gulp-uncss</a> or use Grunt tasks like <a href=\"https://github.com/addyosmani/grunt-uncss\" target=\"_blank\">grunt-uncss</a>. If you don't no what is grunt or gulp, read my <a href=\"{{ site.baseurl }}/2014/10/27/Task-Automation-using-grunt-and-gulp/\">previous post</a>.</li>\n</ol>\n<h4>ProTips</h4>\n<ol>\n<li>Use <a href=\"http://cssstats.com/\" target=\"_blank\">CSS Stats</a> to get total no of elements used, no of unique styles, fonts etc.</li>\n<li>Pagespeed Insight <a target=\"_blank\" href=\"https://chrome.google.com/webstore/detail/pagespeed-insights-by-goo/gplegfbjlmmehdoakndmohflojccocli?hl=en\">Chrome Extention</a>.</li>\n<li>Tag Counter <a target=\"_blank\" href=\"hhttps://chrome.google.com/webstore/detail/tagcounter/okjmidhcodkplbehcomejnfjlkbdnjlg\">Chrome Extention</a>.</li>\n</ol>\n<h3 id=\"render-blocking-javascript\" style=\"position:relative;\">Render-Blocking Javascript<a href=\"#render-blocking-javascript\" aria-label=\"render blocking javascript permalink\" class=\"blog-post-heading-link after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>If the browser encounter's javascript while parsing the <code class=\"language-text\">HTML markup</code>, the parsing is stopped. Only after executing the script, the HTML rendering will be continued. So this block's the <code class=\"language-text\">rendering of the page</code>.</p>\n<p>To solve this</p>\n<p>Use <code class=\"language-text\">async</code> or <code class=\"language-text\">defer</code> attribute in <code class=\"language-text\">&lt;script&gt;&lt;/script&gt;</code> tag.</p>\n<ol>\n<li><code class=\"language-text\">&lt;script async&gt;</code> will download the file during the <code class=\"language-text\">HTML parsing</code> and execute it as soon as the file is downloaded.</li>\n<li><code class=\"language-text\">&lt;script defer&gt;</code> will download the file during the <code class=\"language-text\">HTML parsing</code> and will execute it after <code class=\"language-text\">HTML parsing</code> is completed.</li>\n</ol>\n<p>Eg: <code class=\"language-text\">async and defer</code> both are used in Google Analytics</p>\n<p>Browser support for <a target=\"_blank\" href=\"http://caniuse.com/#search=async\" title=\"async browser support\">async</a> and\n<a target=\"_blank\" href=\"http://caniuse.com/#search=defer\" title=\"defer browser support\">defer</a>.</p>\n<h2 id=\"memory-leaks\" style=\"position:relative;\">Memory Leaks<a href=\"#memory-leaks\" aria-label=\"memory leaks permalink\" class=\"blog-post-heading-link after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">Memory leaks</code> and <a href=\"http://en.wikipedia.org/wiki/Bloating\" title=\"bloating\" target=\"_blank\">Bloat</a> is one of the problems faced by web developers. Lets see how to find a memory leak and later solve them.</p>\n<h4>Lets find Memory Leak in Javascript</h4>\n<ol>\n<li>Using Chrome Task Manager to check <code class=\"language-text\">memory used by app</code> as well <code class=\"language-text\">js memory</code> (total + live memory). If your memory keeps on growing on each action, then you can suspect there is a memory leak.</li>\n</ol>\n<p><i>See below the screenshot of Chrome Task Manager</i></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0493224fde3ff67d0d6af3cc54b9a3d2/dc616/task_manger.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.85714285714286%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVQozzVRi26jMBDk/z/upEptwDYEQwDjJ7bBJECobpK2I2vNY2dndjejhLRtOwxD/wZuIUTXdYzSqqxInrM8v72BNET8ujUNXvCQMVz9IMQ4ihE0VHHOee/TAiSn1K3mYXIxzviOyl6rqijYJRdtk/37+CgIYYx9fV6KPCdvI6inrUW2VfJaVnFyj8cjxqik1kJc8svlK2/rOvssakqokiqEuCFl3zchdl5vctzWNRjNr3Vw7v54BB/gLVjrJy/HsW+arGQMamgPOvM8p/v9MPrg9SHH83l4o6Hsndu2LaXUdz1coDvkd5xnlIJMYbtt2hjiuq7787mf34gAdPj1ip63fU9pxWicknVdk4LcQGYvZYycKKUP0IBt+znHcawxOq3XZX6Rl4RBLsFjGEpKPQqQS5SBea00pGBv/8MPeTLml5xS8NPq/TRNWikjR9gmIHPOsWTM63m8cZ5w8TzPJQRsb4kzuljvdysl1LFWzpsRe75WFJvX2hitX5sFEEPAWec5ylG1LcaW5jkgaRgCRIdB3FrVd1nVOFY7Ka2zVut3kb6zlFhCLKW2yC2jtixfkb1eTVUhBz0bY/4DY3pa6CHLQJUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Speed Index\" title=\"Speed Index\" src=\"/static/0493224fde3ff67d0d6af3cc54b9a3d2/8c557/task_manger.png\" srcset=\"/static/0493224fde3ff67d0d6af3cc54b9a3d2/4edbd/task_manger.png 175w,\n/static/0493224fde3ff67d0d6af3cc54b9a3d2/13ae7/task_manger.png 350w,\n/static/0493224fde3ff67d0d6af3cc54b9a3d2/8c557/task_manger.png 700w,\n/static/0493224fde3ff67d0d6af3cc54b9a3d2/dc616/task_manger.png 933w\" sizes=\"(max-width: 700px) 100vw, 700px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<h4>Chrome DevTools Profiling</h4>\n<p>Use <code class=\"language-text\">Heap Profiler</code> to find memory leak. Open chrome devTools and go to profiles tab and select take heap snapshot.\nIf you don't know about chrome DevTools, read my <a target=\"_blank\" href=\"https://gokul.site/blog/2014/09/12/chrome-devtools/\" title=\"Chrome DevTools\"> previous post</a>.</p>\n<p><i>Screenshot for Chrome DevTools Profiler</i></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/779db53a8c1faf2d2869bfc64e5902a5/4dba2/heap%20snapshot.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+UlEQVQoz6WQDU6EMBCFe2fv433WqFmJQExQk20EFpgplGJblh+nVGLIGjXu1yZ9mfS9TodF4WMcR7SeFh7ubu9vdlEYRkTsIBkEQZIknPPDFnZ1/bJ/Rmu6WrZStuM4TtM0eoZhWE6qkDydweLXAhvVyAYARe3o+36e5+k75i1MSdGpNsvzA+dvaYqIkhpQLaEW5ErXdb4bwgcxBKRqLQRUVVGW5LHGaP2+8qnojhc+kfyLGUHJ5pimKedQHIWg3huttXERzqlXSNLLm7YRoEXMs4z2YMypt2VV+iH9+m0GANYaJyn1bCQ/483WjXctTX+O+DL/g4vMH9wnet4ayZtgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"heap snapshot\" title=\"heap snapshot\" src=\"/static/779db53a8c1faf2d2869bfc64e5902a5/8c557/heap%20snapshot.png\" srcset=\"/static/779db53a8c1faf2d2869bfc64e5902a5/4edbd/heap%20snapshot.png 175w,\n/static/779db53a8c1faf2d2869bfc64e5902a5/13ae7/heap%20snapshot.png 350w,\n/static/779db53a8c1faf2d2869bfc64e5902a5/8c557/heap%20snapshot.png 700w,\n/static/779db53a8c1faf2d2869bfc64e5902a5/e996b/heap%20snapshot.png 1050w,\n/static/779db53a8c1faf2d2869bfc64e5902a5/4dba2/heap%20snapshot.png 1151w\" sizes=\"(max-width: 700px) 100vw, 700px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<h4>The Heap Profiler has 4 snapshot views</h4>\n<ol>\n<li>Summary View - To show total number of objects allocated and its instance, <code class=\"language-text\">Shallow Size</code> (size of the memory of obj itself) and <code class=\"language-text\">Retained Size</code> (size of the memory that will be freed once automatic GC happens + unreachable object).</li>\n<li>Comparison View - To compare two or more snapshots before and after a operation to check memory leak.</li>\n<li>Containment View - To show overall view of your app object structure + DOMWindow Objects (that is global obj's), GC roots, Native objects (from the browser).</li>\n<li>Dominators View - This will show the <a target=\"_blank\" href=\"https://developer.chrome.com/devtools/docs/memory-analysis-101#dominators\" title=\"dominators\">dominators</a> tree of a heap graph.</li>\n</ol>\n<p>Read more in detail about <a target=\"_blank\" href=\"https://developer.chrome.com/devtools/docs/heap-profiling\" title=\"Chrome devtools heap profile\">Heap profiler</a>.</p>\n<h4>DOM Leak</h4>\n<p>Reference to <code class=\"language-text\">DOM elements</code> causes DOM Leak and prevents automatic garbage collection(GC) process.</p>\n<p>Lets see an example</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>heading<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>I am just a heading nothing much<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> parentEle <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'container'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//get parent ele reference</span>\n<span class=\"token keyword\">var</span> headingEle <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'heading'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//get child ele reference</span>\nparentEle<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//removes parent element from DOM</span>\n<span class=\"token comment\">//but its child ref still exist, So parentEle won't collect GC'd and causes DOM Leak</span></code></pre></div>\n<p>Let's fix this DOM leak by making its reference <code class=\"language-text\">null</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">headingEle <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Now parentEle will be GC'd</span></code></pre></div>\n<p>The above are common problems faced by web developers. Thats all for today. If you like my post share it or have a doubt comment below. Thanks!!</p>","frontmatter":{"date":"Dec 15, 2014","updated":null,"slug":"/blog/2015/web-performance-optimization","title":"Web Performance Optimization","relative":null},"fields":{"readingTime":{"text":"6 min read"}}}},"pageContext":{"slug":"/blog/2015/web-performance-optimization"}},"staticQueryHashes":[]}