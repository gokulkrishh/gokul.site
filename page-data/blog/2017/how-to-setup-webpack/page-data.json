{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/2017/how-to-setup-webpack","result":{"data":{"markdownRemark":{"html":"<p><a href=\"https://webpack.js.org/\">Webpack</a> is module bundler for modern web applications.</p>\n<ul>\n<li>It is a highly configurable and easy to use.</li>\n<li>Reduces the network request by bundling all static assets into a single file.</li>\n<li><a href=\"https://github.com/webpack/docs/wiki/hot-module-replacement-with-webpack\" target=\"_blank\">Hot Reloading</a> helps us to forget about the good old <b>gulp</b> and <b>grunt</b> watchers (we won’t be talking about this).</li>\n</ul>\n<h2>Steps</h2>\n<ol>\n<li><a href=\"#step-1---create-a-folder\">Create folder</a></li>\n<li><a href=\"#step-2---install-webpack\">Install webpack</a></li>\n<li><a href=\"#step-3---creating-webpack-config\">Creating webpack config</a></li>\n<li><a href=\"#step-4---run-webpack\">Run webpack</a></li>\n<li><a href=\"#step-5---setup-webpack-development-server\">Webpack development server</a></li>\n<li><a href=\"#step-6---run-development-server\">Run development server</a></li>\n<li><a href=\"#step-7---development--production-environment\">Development &#x26; production env</a></li>\n<li><a href=\"#step-8---sourcemap-for-development--production\">Sourcemap for development &#x26; production</a></li>\n</ol>\n<h3>Step 1 - Create a folder</h3>\n<p>Create a folder called <code class=\"language-text\">webpack-2-setup</code> and cd into it.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">mkdir</span> webpack-2-setup <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">cd</span> webpack-2-setup</code></pre></div>\n<h3>Step 2 - Install webpack</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack@latest webpack-dev-server@latest</code></pre></div>\n<p>or do it via <a href=\"https://yarnpkg.com/\">Yarn</a>.</p>\n<p>From now on, I will be using <code class=\"language-text\">yarn</code> to install our dependencies.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev webpack@latest webpack-dev-server@latest</code></pre></div>\n<h3>Step 3 - Creating webpack config</h3>\n<p>Create a <code class=\"language-text\">webpack.config.js</code> file in the root of our directory and let’s write some configuration.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> webpack <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  context<span class=\"token operator\">:</span> __dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/src'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// `__dirname` is root of project and `src` is source</span>\n  entry<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    app<span class=\"token operator\">:</span> <span class=\"token string\">'./app.js'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    path<span class=\"token operator\">:</span> __dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/dist'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// `dist` is the destination</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">'bundle.js'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> config<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Create <code class=\"language-text\">src/</code> directory as well. Now lets add <a href=\"https://lodash.com\">lodash</a> to dependencies in <code class=\"language-text\">package.json</code> by.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev lodash</code></pre></div>\n<p>And create a file called <code class=\"language-text\">app.js</code> in <code class=\"language-text\">src/</code> directory.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lodash'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> other <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>other<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [1, 2, 3, [4]]</span></code></pre></div>\n<h3>Step 4 - Run webpack</h3>\n<p>To run webpack in <code class=\"language-text\">development mode</code>, type the following in your terminal.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ webpack</code></pre></div>\n<p><em>Screenshot for development mode.</em></p>\n<center> <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8aa86e057f3153793c7ae75685cff838/5148a/webpack-dev-server.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZ0lEQVQoz52SzU7bQBSF7yu0W0pCYjuJHXsSJ3ZsJ/FP4kBIApVaQSmgom6RuuiCLip4iy5QpaqbCiSIKFKBFPGnPkSfgkX2ENu31xDUSuy6+HTPjDVnjs4YEBGIp0SSmPxP4rNPYq/YDA4P+l/Ozo6Cy8vj6/OLwfDq6mR4dnFO/BqeDE6HR8cD4ud4PuL6eHAa9g8Ot+8M9/onoFVq3y3bwqprYs1z0W7W0ag30XR6KEglnEzlMMlJmCCS/xCvE2kputNpcc+ZWQDY3v8NcsnZZ+Umyqp3q1b8MCtbYUaqhHyuEKYzSshlWMgJ96RIp2imM3LIZelblt0SOMXnd1pzKwCfv30CVlL7Jb1MCe2RUXdQYgyNmoVSQcei5mCGqcipCnK0L8kM8wrDou4SNuGMBLGIU5y02+i8ooRf34OiSn2zrqNmqiPN1FG3LIwrkFUD88xEZlWRUR3MLWPBZ1j2GOZkA/lsEdOCMrpPKO225pYBFt9uQpKT+0rZQZFZI73Wjmz/RVSpdyLL7UZVrxfVvflIq/iRZU9HFb8dabYfGVU9ErulKNcqjA3zu/4sGa6tf4SUkN+XVUpUNG/KZiMoGV6gVtygRNqo2QFzrEBytSDLtEDM64Go6IHE1EAoFwJeZTfjhDutHnX4cvUdpPj8j3iTHuGOWP9FwXROxrRIMyNjSniA1vw944QHzbjDtfUtmEhwvWdJYXMiwW8QH0iPGevEmFhPPWKD2CKPzszzNwA5RYeqNwduewGa3dfgzS5CfFOzuwTxqzU6S+C3l8GfWYZWj6BfIy7/gen5FWjQmdhDZAb8AW3ka5Ns7J21AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Webpack Devserver\" title=\"Webpack Devserver\" src=\"/static/8aa86e057f3153793c7ae75685cff838/fcda8/webpack-dev-server.png\" srcset=\"/static/8aa86e057f3153793c7ae75685cff838/12f09/webpack-dev-server.png 148w,\n/static/8aa86e057f3153793c7ae75685cff838/e4a3f/webpack-dev-server.png 295w,\n/static/8aa86e057f3153793c7ae75685cff838/fcda8/webpack-dev-server.png 590w,\n/static/8aa86e057f3153793c7ae75685cff838/efc66/webpack-dev-server.png 885w,\n/static/8aa86e057f3153793c7ae75685cff838/c83ae/webpack-dev-server.png 1180w,\n/static/8aa86e057f3153793c7ae75685cff838/5148a/webpack-dev-server.png 1228w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span></center>\n<p><b>bundle size:</b> 544 KB</p>\n<p>To run webpack in <code class=\"language-text\">production mode</code>, type the following in your terminal.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ webpack -p</code></pre></div>\n<ul>\n<li><b>-p</b> is for production which uglify and minify the files.</li>\n<li><b>bundle.js</b> is our bundled file which is added to <code class=\"language-text\">dist/</code> directory.</li>\n</ul>\n<p><em>Screenshot for production mode.</em></p>\n<center> <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f926b038717176c3a6a9c089b80c232f/5148a/webpack-prod.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSUlEQVQoz52RXU/TUBjHn6+gt+hgW8v6erp27drRrS/bHIyBMQYVNBhvSbwxwUQDH8PEG6MXBqI0SCIvkg3wU/gluNg9rDuPp6VEjfHGi1+e/3NOzu/06QFEBMZNxiTj9n+SnL2RuBIZ7O1G7/r9/fj09OB8cHI0PDs7HPZPBsP+4Pvw2/FgeHB0PNw/OPoX52x/HO3uvU2Fn6JDMKvuF6dRwxnfQTfwsRHW0a430fHmsaSYOFmUMFcUGVJK2heuEelVL372OksAH6IfQAxvp1wJkejBpel0xoLqjJlozAnauDCtMNRxkScpSU77ErnmkoFTnLzVXngM8OrjGygZRiRaFSx79ZHph8gJBMuWh7Jmp1UgJhbLaopIqmhUQ7beQLnsYH5aGWXC7VS4+v4FFHQ5kl0LS44+khwLNbOBhh2gargoERtVawYJ+x2kaaDoGyjZFuZ5dgFPsMCrvwlXmPDZBuSLSqRV2BeR2sh2Z6nXvkedxhyt+V3qBj1aDxepWW1Rp96hdqtDLa9JHbdKxXmDCm0tE0rbrblEuPYa8ry8o+i1ZIQLwwljvRqkJNl2GzHxarHkm3FJM2NRtmJRtWKJ6DFf0WJOJxeZcKvdYyPff/Ic8pz8NVlkj5CS5F+oWBAULIisTits1GtYz12Rjbzb7D4EeLq2CRO5Yu/WJL8xkePWGS9ZzshyLiPJU3+xzthkjm7n7iqAoFowEyyAP7sEzfllCOYeQHJTs/sIQlZDVluzy9DqrEC7x1j4kzuLjyFkZxKHSGz4CRq4atapvbTJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Webpack Production\" title=\"Webpack Production\" src=\"/static/f926b038717176c3a6a9c089b80c232f/fcda8/webpack-prod.png\" srcset=\"/static/f926b038717176c3a6a9c089b80c232f/12f09/webpack-prod.png 148w,\n/static/f926b038717176c3a6a9c089b80c232f/e4a3f/webpack-prod.png 295w,\n/static/f926b038717176c3a6a9c089b80c232f/fcda8/webpack-prod.png 590w,\n/static/f926b038717176c3a6a9c089b80c232f/efc66/webpack-prod.png 885w,\n/static/f926b038717176c3a6a9c089b80c232f/c83ae/webpack-prod.png 1180w,\n/static/f926b038717176c3a6a9c089b80c232f/5148a/webpack-prod.png 1228w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span> </center>\n<p><b>bundle size:</b> 72.3 KB</p>\n<p>We need a <code class=\"language-text\">local server</code> to run our application. So let’s setup a development server.</p>\n<h3>Step 5 - Setup webpack development server</h3>\n<p>Webpack has its own development server. Let’s add it to the <code class=\"language-text\">webpack.config.js</code> configuration.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  devServer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    contentBase<span class=\"token operator\">:</span> __dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/src'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// `__dirname` is root of the project</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And add the script <code class=\"language-text\">bundle.js</code> file in <code class=\"language-text\">src/index.html</code> like below.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Webpack 2 Setup<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token comment\">&lt;!-- bundler script file --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>Step 6 - Run development server</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ webpack-dev-server</code></pre></div>\n<p>Open <a href=\"http://localhost:8080/\" target=\"_blank\">http://localhost:8080</a> in your browser.</p>\n<p><i>Screenshot for development server running in browser.</i></p>\n<center> <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/89cdf754c89da449180071ddb7cc5d70/7ff3c/browser.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVQ4y72Sy66CMBCG+yI+iitd6Mt4zsYXZcsGqDGnRAG500LnzBQwDV6imPgnX2amnf6dJmXJ5VJwfjieT2dRlqXI89zEoihElmXX+gl/VVWJJElOrusuGRYQxzGgAbRtC1JKE2kdm0ykWikFXdeZfcptxn7f97cMelWItGmaRtZ1LbXW17UoiiROJKe9BPZ1YRiuGCaAKN0LRsbbaSICLwDP8yBNUzOB1auppOmFEGvW16CGDRiCidRkXzJqkj82tM3uyTZ+acIHB26YvOT5k9/Vdw3n6p5hPXydOdA/VGio0XDFZr70RsOEG8Y53yM75OcTgiD4dRxn8Q98x+TeWDiIxQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Browser\" title=\"Browser\" src=\"/static/89cdf754c89da449180071ddb7cc5d70/fcda8/browser.png\" srcset=\"/static/89cdf754c89da449180071ddb7cc5d70/12f09/browser.png 148w,\n/static/89cdf754c89da449180071ddb7cc5d70/e4a3f/browser.png 295w,\n/static/89cdf754c89da449180071ddb7cc5d70/fcda8/browser.png 590w,\n/static/89cdf754c89da449180071ddb7cc5d70/efc66/browser.png 885w,\n/static/89cdf754c89da449180071ddb7cc5d70/c83ae/browser.png 1180w,\n/static/89cdf754c89da449180071ddb7cc5d70/7ff3c/browser.png 3048w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span> </center>\n<p>More <a href=\"https://webpack.js.org/configuration/dev-server/\">configuration details</a> on webpack-dev-server. That’s all, the basic webpack configuration is done.</p>\n<p>But what about <code class=\"language-text\">ES6</code> support? How to setup that? Let us see.</p>\n<h2>Loaders</h2>\n<p>A Loader is a task in webpack, which allows to <code class=\"language-text\">require()</code> CSS files in javascript or convert an image into data-URLs etc,</p>\n<p>We are going to set up <code class=\"language-text\">ES6 + Babel</code> using a webpack babel loader.</p>\n<h3>Step 1 - Install babel loader &#x26; ES6 preset.</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev babel-loader babel-core babel-preset-es2015</code></pre></div>\n<p>Now we have to add loader configurations to <code class=\"language-text\">webpack.config.js</code> file.</p>\n<h3>Step 2 - ES6 loader</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      test<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.js$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Check for all js files</span>\n      exclude<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">node_modules</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n      use<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        loader<span class=\"token operator\">:</span> <span class=\"token string\">'babel-loader'</span><span class=\"token punctuation\">,</span>\n        options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> presets<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'es2015'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now, <code class=\"language-text\">ES6</code> syntax is supported, let us check by changing <code class=\"language-text\">app.js</code> to ES6.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// importing lodash module</span>\n<span class=\"token keyword\">import</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> other <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>other<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [1, 2, 3, [4]]</span></code></pre></div>\n<p>Again run the development server and check.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ webpack-dev-server</code></pre></div>\n<p><code class=\"language-text\">ES6</code> support is added greatly. But we need a way to debug <code class=\"language-text\">bundle.js</code> file for development since it will be bundled into a small file. So that means we have to add a <a href=\"http://blog.teamtreehouse.com/introduction-source-maps\" target=\"_blank\">sourcemap</a>.</p>\n<p>Before adding sourcemap, how do you tell which in mode webpack is running? So for that, we need to an environment for production and development.</p>\n<h3>Step 7 - Development &#x26; Production environment</h3>\n<p>In <code class=\"language-text\">package.json</code> file, let’s add scripts to run our dev server and production.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack-dev-server\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NODE_ENV=production webpack -p --config webpack.config.js\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>By setting <code class=\"language-text\">NODE_ENV</code> in the build script, we can access it in <code class=\"language-text\">webpack.config.js</code> and add configurations accordingly.</p>\n<h3>Step 8 - Sourcemap for development &#x26; production</h3>\n<p>Now we know when we are running for production or development. Let us use it to set up the sourcemap accordingly.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  devtool<span class=\"token operator\">:</span> <span class=\"token string\">\"eval-source-map\"</span> <span class=\"token comment\">// Default development sourcemap</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Check if build is running in production mode, then change the sourcemap type</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"production\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  config<span class=\"token punctuation\">.</span>devtool <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// No sourcemap for production</span>\n\n  <span class=\"token comment\">// Add more configuration for production here like</span>\n  <span class=\"token comment\">// SASS &amp; CSS loaders</span>\n  <span class=\"token comment\">// Offline plugin</span>\n  <span class=\"token comment\">// Etc,</span>\n<span class=\"token punctuation\">}</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> config<span class=\"token punctuation\">;</span></code></pre></div>\n<p>More information on webpack’s <a href=\"https://webpack.js.org/configuration/devtool/#devtool\" target=\"_blank\">sourcemaps</a>.</p>\n<h2>Final</h2>\n<p>Below code contains all the configurations for the webpack from above steps.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> webpack <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  context<span class=\"token operator\">:</span> __dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/src'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// `__dirname` is root of project and `src` is source</span>\n\n  entry<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    app<span class=\"token operator\">:</span> <span class=\"token string\">'./app.js'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    path<span class=\"token operator\">:</span> __dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/dist'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// `dist` is the destination</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">'bundle.js'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">//To run development server</span>\n  devServer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    contentBase<span class=\"token operator\">:</span> __dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/src'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  module<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        test<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.js$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Check for all js files</span>\n        exclude<span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">node_modules</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        use<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n          loader<span class=\"token operator\">:</span> <span class=\"token string\">'babel-loader'</span><span class=\"token punctuation\">,</span>\n          options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> presets<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'es2015'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  devtool<span class=\"token operator\">:</span> <span class=\"token string\">\"eval-source-map\"</span> <span class=\"token comment\">// Default development sourcemap</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Check if build is running in production mode, then change the sourcemap type</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"production\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  config<span class=\"token punctuation\">.</span>devtool <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// No sourcemap for production</span>\n\n  <span class=\"token comment\">// Add more configuration for production here like</span>\n  <span class=\"token comment\">// Uglify plugin</span>\n  <span class=\"token comment\">// Offline plugin</span>\n  <span class=\"token comment\">// Etc,</span>\n<span class=\"token punctuation\">}</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> config<span class=\"token punctuation\">;</span></code></pre></div>\n<h4>Articles References:</h4>\n<ul>\n<li><a href=\"https://blog.flennik.com/the-fine-art-of-the-webpack-2-config-dc4d19d7f172#\" target=\"_blank\">The Fine Art of the Webpack 2 Config</a></li>\n<li><a href=\"https://www.sitepoint.com/beginners-guide-to-webpack-2-and-module-bundling\" target=\"_blank\">A Beginners Guide to Webpack 2 and Module Bundling</a></li>\n<li><a href=\"https://github.com/webpack-contrib/awesome-webpack\" target=\"_blank\">A curated list of awesome webpack resources, libraries and tools.</a></li>\n</ul>\n<p>Thanks for reading my article.</p>","frontmatter":{"date":"February 03, 2017","path":"/blog/2017/how-to-setup-webpack","title":"How To Setup Webpack 2","readtime":null,"description":null}}},"pageContext":{}},"staticQueryHashes":[]}