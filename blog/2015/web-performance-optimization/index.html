<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-blog-template-js.3646ed860f4d399cf88b.css">code[class*=language-],pre[class*=language-]{-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}*{box-sizing:border-box}body,html{-webkit-font-smoothing:antialiased;color:#3c4043;font-family:Google Sans,Arial,Helvetica,sans-serif;font-size:15px;font-weight:400;line-height:1.6;margin:0;scroll-behavior:smooth}b,h1,h2,h3,h4,h5,strong{font-weight:500}h1{font-size:28px}h2{font-size:25px}h3{font-size:22px}h4{font-size:20px}h5{font-size:16px}.grid{height:inherit;margin:0 auto;padding:0 15px;width:920px}a{-webkit-text-decoration:#3367d6 solid underline;color:#3367d6;display:inline-block;font-weight:500;text-decoration:#3367d6 solid underline;text-underline-position:under}a:hover{background-color:rgba(9,131,228,.2);color:#2663e4}h1,h2,h3,h4,h5,p{margin:20px 0}ul{list-style:decimal;padding-left:25px}li{padding-left:5px}li,ul{margin:15px 0}i{font-style:normal}.not-found h1{margin:50px 0 0}.not-found>.grid{height:800px}time{color:#6f6f6f;font-size:14px;font-weight:500}table{background-color:#f7f7f7;border:1px solid #ccc;width:100%}table thead th{font-weight:500}table tbody td,table thead th{padding:7px 5px;text-align:left!important}table thead tr{background-color:#d4d4d4}table tbody td:not(:last-child){border-right:1px solid #ccc}@media (max-width:920px) and (min-width:740px){.grid{width:720px}}@media (max-width:740px) and (min-width:640px){.grid{width:640px}}@media (max-width:640px) and (min-width:480px){.grid{width:480px}}@media (max-width:480px){.grid{width:100%}h1{font-size:23px}h2{font-size:21px}h3{font-size:19px}h4{font-size:16px}a,li,p,ul{font-size:14px}}header{background-color:#4a4a4a;color:#fff;height:85px}header .grid{align-items:center}header .grid,header .menu{display:flex;justify-content:space-between}header .menu{width:260px}header .menu a{border:none;color:#fff;cursor:pointer;text-decoration:none}header .menu a:hover{background-color:transparent;opacity:.8}header .menu a:after{background:#fff;content:"";display:block;height:2px;pointer-events:none;width:0}header .menu a.active{font-weight:500}header .menu a.active:after{width:100%}header .menu{list-style:none}@media (max-width:480px){header .menu{justify-content:space-between;margin:0 auto;padding:0}header .menu li{font-size:15px}}footer{background-color:#4a4a4a;color:#fff;display:flex;height:45px;margin-top:70px;overflow:hidden;width:100%}footer .grid{align-items:center;display:flex;justify-content:space-between}footer a{color:#fff;margin:0 8px}footer a:hover{background-color:hsla(0,0%,64.7%,.32);color:#f1f1f1}footer p{align-items:center;display:flex;font-size:14px}footer p i{font-size:18px;margin-right:6px;margin-top:4px}footer .built i{font-size:17px;margin-left:5px;margin-top:4px}@media (max-width:480px){footer p{font-size:14px}.built{display:none}}.about{align-items:center;display:flex;margin:35px 0 50px;width:100%}.about .avatar{border:2px solid #fff;border-radius:50%;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);height:100px;margin-right:30px;width:100px}.about h1{margin:0 0 5px}.about p{margin:0}.about>div{margin-top:10px}.about p a{font-weight:500;margin:0 6px}.about .social a{border:0;margin:8px 5px}.about .social a:first-child{margin-left:0}.about .social a:hover{background-color:transparent;opacity:.6}.about .social img{height:30px;width:30px}.about .social .github img{width:26px}.about-me{margin-bottom:30px;width:100%}.about-me ul{list-style:disc;margin-bottom:30px}.about-me li span{color:#3c4043;font-weight:500}.about-me li a{margin:0 4px}@media (max-width:740px) and (min-width:640px){.about .avatar{height:80px;width:80px}}@media (max-width:640px) and (min-width:480px){.about{flex-direction:column;margin-bottom:-30px}.about img{margin-bottom:20px}.about div{text-align:center}.about div h1{font-size:21px}.about .avatar{height:80px;width:80px}}@media (max-width:480px){.about .avatar{height:70px;margin:15px 0;width:70px}.about{flex-direction:column;margin-bottom:-10px;margin-top:20px}.about img{margin-bottom:20px}.about div{margin:0;text-align:center}.about div h1{font-size:21px}}.cards{display:flex;flex-wrap:wrap;justify-content:space-around;margin:20px 0 50px}.card{background-color:#fff;border-radius:5px;box-shadow:0 1px 2px 1px rgba(60,64,67,.15),0 1px 1px 0 rgba(60,64,67,.1);margin:15px 0;min-height:270px;position:relative;width:280px}.card h4{font-size:18px;text-transform:capitalize;word-break:break-word}.card a{border:0;display:block;margin:0 auto}.card a:hover{background-color:transparent;font-weight:500;text-decoration:underline}.card a,.card h5{text-align:center}.card .card__desc,.card .card__info{padding:0 15px;text-align:center}.card .card__info{display:block;margin:20px auto 10px}.card .card__info:last-child{margin-bottom:20px}.card .card__desc{height:70px;margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;word-break:break-word}.card .card__desc b,.card .card__info b{margin:0 5px}.card .languages{display:flex;flex-wrap:wrap;justify-content:center;margin-bottom:10px;padding:0 10px}.card .tags{background-color:#e8e8e8;border-radius:100px;box-shadow:0 1px 3px 1px rgba(60,64,67,.15);display:inline-block;font-size:12px;font-weight:500;height:23px;line-height:25px;margin:10px 5px;min-width:50px;padding:0 8px;text-align:center;text-transform:uppercase}.spinner{display:inline-block;height:64px;position:relative;width:64px}.spinner div{-webkit-animation:spinner 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:spinner 1.2s cubic-bezier(.5,0,.5,1) infinite;border:6px solid transparent;border-radius:50%;border-top-color:#212121;box-sizing:border-box;display:block;height:51px;margin:6px;position:absolute;width:51px}.spinner div:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.spinner div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.spinner div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes spinner{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spinner{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.open-sources .cards{min-height:890px}.open-sources .spinner{margin:300px}.open-sources .title{display:flex;justify-content:space-between;margin-top:20px}.open-sources .title p{align-items:center;display:flex;font-weight:500}.open-sources .contributed{background-color:#ff9800;border-radius:50%;display:inline-block;height:10px;position:absolute;right:3px;top:4px;width:10px}.open-sources .title p .contributed{height:15px;margin-right:5px;position:relative;right:5px;top:-1px;width:15px}.blog-post-container .title{margin-bottom:5px;margin-top:50px}.blog-post-container .title+p{margin-top:0}.blog-post-container .blog-post center i{font-weight:500}.blog-post-container .blog-post iframe{height:400px;margin-top:20px;width:100%}.blog-post-container .blog-post .gatsby-resp-image-link{border:0;margin:20px 0 30px}.blog-post-container code:not(.language-*){background-color:transparent!important;color:#212121;font-family:inherit;font-weight:500}.posts{margin-bottom:60px}.posts .post{margin-bottom:30px}.posts .post h3{margin-bottom:10px}.posts .post p{margin-top:8px}.blog-post-content img{max-width:100%}.blog-post-content ol.disc{list-style:disc;margin-bottom:10px}.post-form-example{align-items:center;border:1px solid;display:flex;flex-direction:column;height:300px;padding:30px 0}.post-form-example label,.post-form-example span{font-weight:500;margin:10px 0}.post-form-example input[type=email],.post-form-example input[type=text]{border:1px solid #ccc;border-radius:4px;height:40px;width:280px}.post-form-example input[type=submit]{background-color:#5f9ea0;border-radius:4px;color:#fff;display:block;font-size:16px;font-weight:500;height:40px;margin-top:20px;width:80px}.m-left-10{margin-left:10px}.m-top-10{margin-top:10px}.m-top-10,.m-top-15{display:inline-block}.m-top-15{margin-top:15px}.m-left-20{margin-left:20px}@media (max-width:640px) and (min-width:480px){.posts .post h3 a{font-size:18px}.posts .post time{font-size:13px}.posts .post p{font-size:14px}}@media (max-width:480px){.blog-post-container .title{font-size:23px}.posts .post a{font-size:17px}}code.language-text{background-color:transparent!important;color:#212121!important;font-family:inherit!important;font-weight:500!important;text-shadow:none!important}pre[class*=language-]{margin:0 20px;width:95%}</style><meta name="generator" content="Gatsby 2.0.8"/><title data-react-helmet="true"></title><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#212121"/><link href="https://fonts.googleapis.com/css?family=Google+Sans:300,400,500" rel="stylesheet"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-f8dfde71dd521b22c7b9.js"/><link as="script" rel="preload" href="/app-5f3bb003656c9d6dcd84.js"/><link as="script" rel="preload" href="/webpack-runtime-1ac710eba545c0f99650.js"/><link rel="preload" href="/static/d/106/path---blog-2015-web-performance-optimization-d-19-c8d-u1KPzdmIu7HudXQEl0KZweoqvg.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><header><div class="grid"><h1></h1><ul class="menu"><li><a href="/">Blog</a></li><li><a href="/opensources/">Open Sources</a></li><li><a href="/about/">About</a></li></ul></div></header><div class="grid"><div class="blog-post-container"><div class="blog-post"><h1 class="title">Web Performance Optimization</h1><time>December 15, 2014<!-- --> </time><div class="blog-post-content"><p>An average user stays in your site if the page loads in &#x3C; 1000ms. In 2014, an average page size is 1.9MB. See the below chart for more stats.</p>

  <a class="gatsby-resp-image-link" href="/static/chart-Nov-15-2014-dd10fb69a26fad31b31cfcb9860a4d02-772df.png" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 400px; margin-left: auto; margin-right: auto;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABrklEQVQoz22RSy9DQRTHfQnEEiEIW8TCjkgtdSc2PoSVSrzqsUG68FqQCi1dNCpK2iJpIkQQC0GbsGqTvnRm7tw799W5dXpvNFo9mZzMJPM75/8/p674G4ZhaJqmmmFwrus6YXIWE1kSdVWmoihJEsZYlmW4QAakrlgZUALyexrNXDxOeqMThzdzoafPLDZ0nVIxl8vl83lBEKCKoigVMDfJzxzpXfO3LHjG9sKju5f2/bAr+pohlEliKpUGGEoACQJrwFOB+6aZg+4V38h2cPzgeufuPfSRiGeQqpTEgzVKKZiqkG2YWS3w4a3z1kVPu9Pbv+7fun27iidDsUQklgSjhBDZzNC2Bqxzbtu5AM2dy8cdS8cDG6d9a364DLoCWJQEQiTGAK7uXJa9EHpucLh7Vn3Atzm9XSsn8JwOPlgfrIlaUYJBA1QCM4zJRV5IC5JtO1jvcDfPH8FpdLiHNs8TWCzvogJGCIESxhiogm0auvZN2Ub01b4Xtu9HnJGXlMBMsmqt//ZsBWIqjFdTFUwp19TyRGrAxh8nlu3br9Ts2X1RZQjjPEIFzmv2+AHyIUJsE53qLwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Average Web Page Size" title="" src="/static/chart-Nov-15-2014-dd10fb69a26fad31b31cfcb9860a4d02-772df.png" srcset="/static/chart-Nov-15-2014-dd10fb69a26fad31b31cfcb9860a4d02-871f0.png 148w,
/static/chart-Nov-15-2014-dd10fb69a26fad31b31cfcb9860a4d02-84726.png 295w,
/static/chart-Nov-15-2014-dd10fb69a26fad31b31cfcb9860a4d02-772df.png 400w" sizes="(max-width: 400px) 100vw, 400px">
    </span>
  </span>
  
  </a>
    
<p>via source <a target="_blank" href="http://httparchive.org/interesting.php#bytesperpage">httparchive</a></p>
<p>The core content of site should render with in <code class="language-text">1000ms</code>. If it fails, then the user is never gonna come back to your site again. By improving page load time, the revenue and downloads increased tremendously for many popular companies.</p>
<ul>
<li>
<p>Let’s take <a target="_blank" href="http://www.walmart.com/">Walmart</a> for every <code class="language-text">100ms</code> of improvement to their site, they grew revenue up to <code class="language-text">1%</code></p>
</li>
<li>
<p><a target="_blank" href="https://www.Yahoo.com">Yahoo</a> traffic increased by <code class="language-text">9%</code> for every <code class="language-text">400ms</code> of improvement.</p>
</li>
<li>
<p><a target="_blank" href="https://www.Mozilla.com">Mozilla</a> speed up their site by <code class="language-text">2.2sec</code> gave them <code class="language-text">160 million</code> more firefox downloads/year.</p>
</li>
</ul>
<h4>Steps involved in site optimization</h4>
<ol>
<li>
<p>Set performance budget.</p>
</li>
<li>
<p>Measuring the current performance.</p>
</li>
<li>
<p>Find the problem causing performance issue.</p>
</li>
<li>
<p>And finally yay, optimize it.</p>
</li>
</ol>
<p>There are several ways to optimize your site, Lets see about it</p>
<h2>Speed Index</h2>
<p>Speed index is the average time at which visible parts of page is <a href="http://www.html5rocks.com/en/tutorials/internals/howbrowserswork/#Painting" title="Browser Painting">painted</a> in the browser. Expressed in milliseconds and also depends on the viewport size. See below image ( video frames to show web page load at seconds ).</p>
<p><i>Lower speed index score is the better score.</i></p>

  <a class="gatsby-resp-image-link" href="/static/compare_progress-fafa56e16bcc83405cee874039ff2ac2-afd85.png" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 53.503184713375795%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAACU0lEQVQoz2Pg4ODg4uKWlJDkgAB2NkF+LgE+TlEhPnkZCUEBLhFBbl5udk5OLk5OTn4BAQkJCS4uLh5uLqBShgcPHty6devOnTu3bt28/+DRxrWLT+9fdO/mmecPzr94ePHh7TMPb59bPqdl6ZIlZ8+ePX/+/KWLF0+fPnPs+Kmenl6G//////v3D0j+/fsXSJ46vn/qhOaJk2cuWLBow8YtBw7sff7o+PplvU1NzbNmzVq0aNGWLVuPHzvw9P7B5UvnoWs+eWx/bLiHj19ARkamm5t7RkYGUHD7hrkuzg6hoSFArrOzc3l5KVBw7bo1IM1//vwB6v/96xfY5n1P75169fLZy+cPXzx78PHDa6Dgvu1LTpw4+fTp8wcPHz18+Pj167d///1ftXotgxsQuLsHBwW5AIGrm7WlSXaie26Kf1FmcEN5UlaCd1aCl4+zQaCfR1S4f3xMaFZafEigV3CAp721IcPx48cPHTp05MgRIHns+Ml5syevXtS9a9va44e2HT+0/eDejUcObF8+s3LNou6DuzecPLz1xKGtRw9sOnZgy+U9bQg///sH8vO504ef3Lvw6s1HoNtevX77/MXLF6/fn9iz8MHti6/ffnoFFXz1/MXrn082gTT/+vUL6O1fv34C2SeO7vv24fF/EPgHN/fi0VWf3z2BcyHg9/Nt6DafP3f0x7dnaJrvnF/3/RNYEEnz/697GIDBBAyxiIhIYBw4u7hamhtHBtpGBbskR/uU5sVFBjnGhLp6O+mGBwAFnVPj/EtyoiMCHaJDXaL9DAAtjLVpH6/8YAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Speed Index" title="" src="/static/compare_progress-fafa56e16bcc83405cee874039ff2ac2-fb8a0.png" srcset="/static/compare_progress-fafa56e16bcc83405cee874039ff2ac2-1a291.png 148w,
/static/compare_progress-fafa56e16bcc83405cee874039ff2ac2-2bc4a.png 295w,
/static/compare_progress-fafa56e16bcc83405cee874039ff2ac2-fb8a0.png 590w,
/static/compare_progress-fafa56e16bcc83405cee874039ff2ac2-afd85.png 628w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  </span>
  
  </a>
    
<p>Speed index can be measured by using <a target="_blank" href="http://www.webpagetest.org/">Webpagetest</a> (maintained by google).</p>
<h4>TL;DR</h4>
<p>Webpage test has lots features like running multiple test in different locations using different browsers. And can measure other metrics like load time, number of DOM elements, first byte time etc..</p>
<p>Eg: checkout the measured result of amazon <a target="_blank" href="http://www.webpagetest.org/result/141126_29_DVN/">here</a> using webpagetest.</p>
<p><i>Watch the below video by <a href="http://blog.patrickmeenan.com/" target="_blank">Patrick Meenan</a> to know more about webpagetest</i></p>
<div>
          <div
            class="gatsby-resp-iframe-wrapper"
            style="padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem"
          >
            <iframe style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          " src="//www.youtube.com/embed/euVYHee1f1M" frameborder="0" allowfullscreen></iframe>
          </div>
          </div>
<h2>Render Blocking</h2>
<p>If you know how a browser works, then you know about how <code class="language-text">HTML, CSS, JS</code> are parsed by browser and which is blocking the rendering of the page. If you don’t, see the below simple diagrammatic representation below.</p>
<img src="https://www.igvita.com/posts/12/doc-render-js.png" alt="How parsing is done in the browser">
<p>Read more about <a target="_blank" href="www.html5rocks.com/en/tutorials/internals/howbrowserswork/">how a browser works</a> written by <a target="_blank" href="http://www.html5rocks.com/en/profiles/#taligarsiel">Tali Garsiel</a> and <a target="_blank" href="http://www.paulirish.com/">Paul Irish</a>.</p>
<h3>Steps involved in rendering in a browser</h3>
<ol>
<li>
<p>First browser parses <code class="language-text">HTML</code> markup to construct <code class="language-text">DOM tree</code> ( DOM = Document Object Model )</p>
</li>
<li>
<p>Then parses <code class="language-text">CSS</code> to construct <code class="language-text">CSSOM tree</code> ( CSSOM = CSS Object Model )</p>
</li>
<li>
<p>Before combining both DOM and CSSOM tree to contruct Render tree, <code class="language-text">JS</code> files are parsed and executed.</p>
</li>
</ol>
<p>Now you understood how parsing is done in a browser. Lets see which is blocking the construction of rendering tree.</p>
<h2>Render-Blocking CSS</h2>
<p>CSS is treated as render blocking. For the construction of CSSOM, all the CSS are downloaded regardless of whether they are used in current page or not.</p>
<p>To solve this render-blocking, go through below steps</p>
<ol>
<li>
<p>Inline the critical CSS, that is most important styles used by page above the fold in head tag inside <code class="language-text">&lt;style&gt;&lt;/style&gt;</code></p>
</li>
<li>
<p>Remove the unused CSS.</p>
</li>
</ol>
<p>So how do I find unused CSS.</p>
<ol>
<li>
<p>Use <a target="_blank" href="https://developers.google.com/speed/pagespeed/insights/">Pagespeed Insight</a> to get stats like unused CSS, render-blocking CSS and JS files etc.</p>
<p>Eg: Flipkart’s Pagespeed Insight result <a target="_blank" href="https://developers.google.com/speed/pagespeed/insights/?url=Flipkart.com">here</a>.</p>
</li>
<li>
<p>Gulp tasks like <a href="https://www.npmjs.com/package/gulp-uncss" target="_blank">gulp-uncss</a> or use Grunt tasks like <a href="https://github.com/addyosmani/grunt-uncss" target="_blank">grunt-uncss</a>. If you don’t no what is grunt or gulp, read my <a href="{{ site.baseurl }}/2014/10/27/Task-Automation-using-grunt-and-gulp/">previous post</a>.</p>
</li>
</ol>
<h4>ProTips</h4>
<ol>
<li>
<p>Use <a href="http://cssstats.com/" target="_blank">CSS Stats</a> to get total no of elements used, no of unique styles, fonts etc.</p>
</li>
<li>
<p>Pagespeed Insight <a target="_blank" href="https://chrome.google.com/webstore/detail/pagespeed-insights-by-goo/gplegfbjlmmehdoakndmohflojccocli?hl=en">Chrome Extention</a>.</p>
</li>
<li>
<p>Tag Counter <a target="_blank" href="hhttps://chrome.google.com/webstore/detail/tagcounter/okjmidhcodkplbehcomejnfjlkbdnjlg">Chrome Extention</a>.</p>
</li>
</ol>
<h3>Render-Blocking Javascript</h3>
<p>If the browser encounter’s javascript while parsing the <code class="language-text">HTML markup</code>, the parsing is stopped. Only after executing the script, the HTML rendering will be continued. So this block’s the <code class="language-text">rendering of the page</code>.</p>
<p>To solve this</p>
<p>Use <code class="language-text">async</code> or <code class="language-text">defer</code> attribute in <code class="language-text">&lt;script&gt;&lt;/script&gt;</code> tag.</p>
<ol>
<li>
<p><code class="language-text">&lt;script async&gt;</code> will download the file during the <code class="language-text">HTML parsing</code> and execute it as soon as the file is downloaded.</p>
</li>
<li>
<p><code class="language-text">&lt;script defer&gt;</code> will download the file during the <code class="language-text">HTML parsing</code> and will execute it after <code class="language-text">HTML parsing</code> is completed.</p>
</li>
</ol>
<p>Eg: <code class="language-text">async and defer</code> both are used in Google Analytics</p>
<p>Browser support for <a target="_blank" href="http://caniuse.com/#search=async" title="async browser support">async</a> and
<a target="_blank" href="http://caniuse.com/#search=defer" title="defer browser support">defer</a>.</p>
<h2>Memory Leaks</h2>
<p><code class="language-text">Memory leaks</code> and <a href="http://en.wikipedia.org/wiki/Bloating" title="bloating" target="_blank">Bloat</a> is one of the problems faced by web developers. Lets see how to find a memory leak and later solve them.</p>
<h4>Lets find Memory Leak in Javascript</h4>
<ol>
<li>Using Chrome Task Manager to check <code class="language-text">memory used by app</code> as well <code class="language-text">js memory</code> (total + live memory). If your memory keeps on growing on each action, then you can suspect there is a memory leak.</li>
</ol>
<p><i>See below the screenshot of Chrome Task Manager</i></p>

  <a class="gatsby-resp-image-link" href="/static/task_manger-0493224fde3ff67d0d6af3cc54b9a3d2-585e0.png" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 54.769560557341904%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABvklEQVQoz02R246kIBCGff+322SmPXASUFFABBW7RXuyRc9e7J9KBbG+OlGgpuGcD1n9xw9KKfCEEEopauqmLKUQXdcJmdX3PXwKzjspCywkl90HyQz8s8Yubtmy9jDPgrHF2m3fl8WrYVyMZpDy+9FTWvz5+vp+lASTx6Osyqqpai6E7AdtZ+ect5Ygshjzep3bulkzGzXWdQMMw7goES/LelRjCOsJuq6kdaIk9d0Z9+hdS5nL8AsCpmmCRNu6Gm36ti1aSquqxggbY+F2j8fl/SX5Nao7pRg8aVCGz/M4DqWgbTNNI8KEE1rAYqqyRggxxrz3EJHuO/38pPf7uu+4BkYozAw9PY/nNGk7joKLGqYDmFIClUFqUNdH6Tz/2XW99t3ZOa5rSumIMYSwhwA1oE3IUlDGykeFEYJ9Z/J//cLGxJDhGA/g4uIA/m2hoATDknnbStnFGO/7ztXBw+n9fsYdnn/1HmZ5vl6QaHNOa81YOwhZtC3hrYA2jNHwssDHHZbss8H+jNacL9O0h3W1dh4GKGpHpaSYuq5gwjXEDQpedTYmz2KUmhGa6/rjq+wxnjHKli8biNKQwpi/ootbAEumTFEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="Speed Index" title="" src="/static/task_manger-0493224fde3ff67d0d6af3cc54b9a3d2-fb8a0.png" srcset="/static/task_manger-0493224fde3ff67d0d6af3cc54b9a3d2-1a291.png 148w,
/static/task_manger-0493224fde3ff67d0d6af3cc54b9a3d2-2bc4a.png 295w,
/static/task_manger-0493224fde3ff67d0d6af3cc54b9a3d2-fb8a0.png 590w,
/static/task_manger-0493224fde3ff67d0d6af3cc54b9a3d2-526de.png 885w,
/static/task_manger-0493224fde3ff67d0d6af3cc54b9a3d2-585e0.png 933w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  </span>
  
  </a>
    
<h4>Chrome DevTools Profiling</h4>
<p>Use <code class="language-text">Heap Profiler</code> to find memory leak. Open chrome devTools and go to profiles tab and select take heap snapshot.
If you don’t know about chrome DevTools, read my <a target="_blank" href="https://gokulkrishh.github.io/2014/09/12/Chrome-DevTools/" title="Chrome DevTools"> previous post</a>.</p>
<p><i>Screenshot for Chrome DevTools Profiler</i></p>

  <a class="gatsby-resp-image-link" href="/static/heap snapshot-779db53a8c1faf2d2869bfc64e5902a5-81fcd.png" style="display: block" target="_blank" rel="noopener">
  
  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 52.476107732406604%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAA1klEQVQoz6WR3Y7CIBCF+9h748uY7BPttdHElq52GTpAS6Fa9gAa9WKTVb/AhJ+cM4dQrT43H+vd17YPfjTGWjssS/yL8yOVOEgMbSwRHbtOSklK+RDm+TRjnlINGSzio2/FPWFYY7qfTrQt6pAZC86NZZtP5uSUvNA2iSmhBmuPh2/RiH2975mdcya/4Q4caLjgqrhcxIpIKxJN3TY1RMyM8CWt936aJn9dFM0tdmosadRsmQfN8YxHBtjHf1BlLcE7Pk8WS4lU2CzviJ/unD4WsV8S/wJVnEaU8xvMHAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="heap snapshot" title="" src="/static/heap snapshot-779db53a8c1faf2d2869bfc64e5902a5-fb8a0.png" srcset="/static/heap snapshot-779db53a8c1faf2d2869bfc64e5902a5-1a291.png 148w,
/static/heap snapshot-779db53a8c1faf2d2869bfc64e5902a5-2bc4a.png 295w,
/static/heap snapshot-779db53a8c1faf2d2869bfc64e5902a5-fb8a0.png 590w,
/static/heap snapshot-779db53a8c1faf2d2869bfc64e5902a5-526de.png 885w,
/static/heap snapshot-779db53a8c1faf2d2869bfc64e5902a5-81fcd.png 1151w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  </span>
  
  </a>
    
<h4>The Heap Profiler has 4 snapshot views</h4>
<ol>
<li>
<p>Summary View - To show total number of objects allocated and its instance, <code class="language-text">Shallow Size</code> (size of the memory of obj itself) and <code class="language-text">Retained Size</code> (size of the memory that will be freed once automatic GC happens + unreachable object).</p>
</li>
<li>
<p>Comparison View - To compare two or more snapshots before and after a operation to check memory leak.</p>
</li>
<li>
<p>Containment View - To show overall view of your app object structure + DOMWindow Objects (that is global obj’s), GC roots, Native objects (from the browser).</p>
</li>
<li>
<p>Dominators View - This will show the <a target="_blank" href="https://developer.chrome.com/devtools/docs/memory-analysis-101#dominators" title="dominators">dominators</a> tree of a heap graph.</p>
</li>
</ol>
<p>Read more in detail about <a target="_blank" href="https://developer.chrome.com/devtools/docs/heap-profiling" title="Chrome devtools heap profile">Heap profiler</a>.</p>
<h4>DOM Leak</h4>
<p>Reference to <code class="language-text">DOM elements</code> causes DOM Leak and prevents automatic garbage collection(GC) process.</p>
<p>Lets see an example</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>heading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>I am just a heading nothing much<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> parentEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//get parent ele reference</span>
<span class="token keyword">var</span> headingEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'heading'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//get child ele reference</span>
parentEle<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//removes parent element from DOM</span>
<span class="token comment">//but its child ref still exist, So parentEle won't collect GC'd and causes DOM Leak</span></code></pre></div>
<p>Let’s fix this DOM leak by making its reference <code class="language-text">null</code></p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">headingEle <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//Now parentEle will be GC'd</span></code></pre></div>
<p>The above are common problems faced by web developers. Thats all for today. If you like my post share it or have a doubt comment below. Thanks!!</p></div></div></div><div class="about"><img class="avatar" src="/static/profile-pic-b4f9a8abee5b3c067d30cf540a657111.jpg" alt="Gokulakrishnan Kalaikovan"/><div><h1>Gokulakrishnan Kalaikovan</h1><p><b>Web Developer</b> &amp;<a href="https://developers.google.com/experts/people/gokulakrishnan-kalaikovan" target="_blank">Google Developer Expert</a>based in India, Bangalore.</p><div class="social"><a class="twitter" href="https://twitter.com/gokul_i" target="_blank"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGZpbGw9IiMyMTIxMjEiIGhlaWdodD0iNTYuNjkzcHgiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1Ni42OTMgNTYuNjkzIiB3aWR0aD0iNTYuNjkzcHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxwYXRoIGQ9Ik0yOC4zNDgsNS4xNTdjLTEzLjYsMC0yNC42MjUsMTEuMDI3LTI0LjYyNSwyNC42MjVjMCwxMy42LDExLjAyNSwyNC42MjMsMjQuNjI1LDI0LjYyM2MxMy42LDAsMjQuNjIzLTExLjAyMywyNC42MjMtMjQuNjIzICBDNTIuOTcxLDE2LjE4NCw0MS45NDcsNS4xNTcsMjguMzQ4LDUuMTU3eiBNNDAuNzUyLDI0LjgxN2MwLjAxMywwLjI2NiwwLjAxOCwwLjUzMywwLjAxOCwwLjgwM2MwLDguMjAxLTYuMjQyLDE3LjY1Ni0xNy42NTYsMTcuNjU2ICBjLTMuNTA0LDAtNi43NjctMS4wMjctOS41MTMtMi43ODdjMC40ODYsMC4wNTcsMC45NzksMC4wODYsMS40OCwwLjA4NmMyLjkwOCwwLDUuNTg0LTAuOTkyLDcuNzA3LTIuNjU2ICBjLTIuNzE1LTAuMDUxLTUuMDA2LTEuODQ2LTUuNzk2LTQuMzExYzAuMzc4LDAuMDc0LDAuNzY3LDAuMTExLDEuMTY3LDAuMTExYzAuNTY2LDAsMS4xMTQtMC4wNzQsMS42MzUtMC4yMTcgIGMtMi44NC0wLjU3LTQuOTc5LTMuMDgtNC45NzktNi4wODRjMC0wLjAyNywwLTAuMDUzLDAuMDAxLTAuMDhjMC44MzYsMC40NjUsMS43OTMsMC43NDQsMi44MTEsMC43NzcgIGMtMS42NjYtMS4xMTUtMi43NjEtMy4wMTItMi43NjEtNS4xNjZjMC0xLjEzNywwLjMwNi0yLjIwNCwwLjg0LTMuMTJjMy4wNjEsMy43NTQsNy42MzQsNi4yMjUsMTIuNzkyLDYuNDgzICBjLTAuMTA2LTAuNDUzLTAuMTYxLTAuOTI4LTAuMTYxLTEuNDE0YzAtMy40MjYsMi43NzgtNi4yMDUsNi4yMDYtNi4yMDVjMS43ODUsMCwzLjM5NywwLjc1NCw0LjUyOSwxLjk1OSAgYzEuNDE0LTAuMjc3LDIuNzQyLTAuNzk1LDMuOTQxLTEuNTA2Yy0wLjQ2NSwxLjQ1LTEuNDQ4LDIuNjY2LTIuNzMsMy40MzNjMS4yNTctMC4xNSwyLjQ1My0wLjQ4NCwzLjU2NS0wLjk3NyAgQzQzLjAxOCwyMi44NDksNDEuOTY1LDIzLjk0Miw0MC43NTIsMjQuODE3eiIvPjwvc3ZnPgo=" alt="Twitter"/></a><a class="github" href="https://github.com/gokulkrishh" target="_blank"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8IURPQ1RZUEUgc3ZnICBQVUJMSUMgJy0vL1czQy8vRFREIFNWRyAxLjAvL0VOJyAgJ2h0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLVNWRy0yMDAxMDkwNC9EVEQvc3ZnMTAuZHRkJz48c3ZnIGZpbGw9IiMyMTIxMjEiIGhlaWdodD0iMzJweCIgaWQ9IkxheWVyXzEiIHZlcnNpb249IjEuMCIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iMzJweCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PHBhdGggY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTYuMDAzLDBDNy4xNywwLDAuMDA4LDcuMTYyLDAuMDA4LDE1Ljk5NyAgYzAsNy4wNjcsNC41ODIsMTMuMDYzLDEwLjk0LDE1LjE3OWMwLjgsMC4xNDYsMS4wNTItMC4zMjgsMS4wNTItMC43NTJjMC0wLjM4LDAuMDA4LTEuNDQyLDAtMi43NzcgIGMtNC40NDksMC45NjctNS4zNzEtMi4xMDctNS4zNzEtMi4xMDdjLTAuNzI3LTEuODQ4LTEuNzc1LTIuMzQtMS43NzUtMi4zNGMtMS40NTItMC45OTIsMC4xMDktMC45NzMsMC4xMDktMC45NzMgIGMxLjYwNSwwLjExMywyLjQ1MSwxLjY0OSwyLjQ1MSwxLjY0OWMxLjQyNywyLjQ0MywzLjc0MywxLjczNyw0LjY1NCwxLjMyOWMwLjE0Ni0xLjAzNCwwLjU2LTEuNzM5LDEuMDE3LTIuMTM5ICBjLTMuNTUyLTAuNDA0LTcuMjg2LTEuNzc2LTcuMjg2LTcuOTA2YzAtMS43NDcsMC42MjMtMy4xNzQsMS42NDYtNC4yOTJDNy4yOCwxMC40NjQsNi43Myw4LjgzNyw3LjYwMiw2LjYzNCAgYzAsMCwxLjM0My0wLjQzLDQuMzk4LDEuNjQxYzEuMjc2LTAuMzU1LDIuNjQ1LTAuNTMyLDQuMDA1LTAuNTM4YzEuMzU5LDAuMDA2LDIuNzI3LDAuMTgzLDQuMDA1LDAuNTM4ICBjMy4wNTUtMi4wNyw0LjM5Ni0xLjY0MSw0LjM5Ni0xLjY0MWMwLjg3MiwyLjIwMywwLjMyMywzLjgzLDAuMTU5LDQuMjM0YzEuMDIzLDEuMTE4LDEuNjQ0LDIuNTQ1LDEuNjQ0LDQuMjkyICBjMCw2LjE0Ni0zLjc0LDcuNDk4LTcuMzA0LDcuODkzQzE5LjQ3OSwyMy41NDgsMjAsMjQuNTA4LDIwLDI2YzAsMiwwLDMuOTAyLDAsNC40MjhjMCwwLjQyOCwwLjI1OCwwLjkwMSwxLjA3LDAuNzQ2ICBDMjcuNDIyLDI5LjA1NSwzMiwyMy4wNjIsMzIsMTUuOTk3QzMyLDcuMTYyLDI0LjgzOCwwLDE2LjAwMywweiIgZmlsbD0iIzE4MTYxNiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PC9zdmc+Cg==" alt="Github"/></a></div></div></div></div><footer><div class="grid"><p><i>©</i> Gokulakrishnan Kalaikovan</p><p class="built">Made with<a href="https://next.gatsbyjs.org/" target="_blank">Gatsby</a>&amp; some<i>❤</i></p></div></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-54513398-1', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-template-js","jsonName":"blog-2015-web-performance-optimization-d19","path":"/blog/2015/web-performance-optimization"};window.dataPath="106/path---blog-2015-web-performance-optimization-d-19-c8d-u1KPzdmIu7HudXQEl0KZweoqvg";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-5f3bb003656c9d6dcd84.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-7a07ab576da0254c9c3d.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js.3646ed860f4d399cf88b.css","/component---src-templates-blog-template-js-f8dfde71dd521b22c7b9.js"],"component---src-pages-404-js":["/component---src-pages-404-js.b4094d2ea4653c398e71.css","/component---src-pages-404-js-f0b251b8f561a08ad168.js"],"component---src-pages-about-js":["/component---src-pages-about-js.b4094d2ea4653c398e71.css","/component---src-pages-about-js-3e3c6ffa84e99b494c1c.js"],"component---src-pages-index-js":["/component---src-pages-index-js.b4094d2ea4653c398e71.css","/component---src-pages-index-js-5567db035c99c5bffeb5.js"],"component---src-pages-opensources-js":["/component---src-pages-opensources-js.b4094d2ea4653c398e71.css","/component---src-pages-opensources-js-678df8adb310f8cf396e.js"]};/*]]>*/</script><script src="/webpack-runtime-1ac710eba545c0f99650.js" async=""></script><script src="/app-5f3bb003656c9d6dcd84.js" async=""></script><script src="/component---src-templates-blog-template-js-f8dfde71dd521b22c7b9.js" async=""></script></body></html>